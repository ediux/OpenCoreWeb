@functions{
    public static string GetUserName(int id)
    {
       
        My.Core.Infrastructures.Implementations.ApplicationUserRepository userrepo = new My.Core.Infrastructures.Implementations.ApplicationUserRepository(new My.Core.Infrastructures.Implementations.Models.OpenWebSiteEntities());

        var usr = userrepo.Find(id);

        if (usr.ApplicationUserProfileRef.Any())
        {
            var profile = usr.ApplicationUserProfileRef.Single();
            return profile.ApplicationUserProfile.DisplayName;
        }

        return usr.UserName;
    }

    public static string GetRoleName(int RoleId)
    {
        My.Core.Infrastructures.Implementations.ApplicationRoleRepository rolerepo = new My.Core.Infrastructures.Implementations.ApplicationRoleRepository(new My.Core.Infrastructures.Implementations.Models.OpenWebSiteEntities());

        var role = rolerepo.Find(RoleId);

        if (role!=null)
        {

            return role.Name;
        }

        return "";
    }
}
